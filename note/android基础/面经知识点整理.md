# 面经知识点整理


## Android


+ Activity

	+ activity的生命周期
		+ 生命周期

			> create->start->resume->pause->stop->destroy ,restart
		
	
		+ restart方法的调用时机: 
		
			> 由不可见重新变为可见时，stop->restart->start。
		 
		+ 按home键的调用时机,恢复的调用时机，销毁的调用时机

			> pause->stop,
			
			> stop->restart->start->resume,
			
			> pause->stop->destoy
		
		+ on save/restore instate的时机，谁调用，怎么调用
	
			> 异常关闭活动时，如当配置文件被改变或者进程优先级太低被杀死，activity会进行on save instate回调，在这里可以保存一些数据，在活动重新创建可以在create或者on restore instate中进行数据恢复
		
		+ 横屏竖屏切换

			> 配置文件被改变，活动重新创建，控件加id可以进行自动保存数据
		
		+ 透明主题/Dialog主题对生命周期的影响

			> 原来的活动只进入pause,返回后执行resume，因为此时原活动并未完全不可见
		
		+ ActivityA启动ActivityB，两者的生命周期分别是怎样的，是顺序执行的吗？

			> A先pause，B再create->start->resume,A再stop
		
	+ Android四种启动模式
	
	
	
	+ fragment相关，
		+ 生命周期

			> attch(和activity绑定)-creat-creatview(创建视图)-activitycreated(确保相关联的activity创建完成)-start-resume-pause-stop-destroyview(销毁视图)-destroy-dettch(与activity解绑)
			
			> 与activity联动时，两者的生命周期为: 前四步都在activity的create后和start前进行，后三步在activity的stop和destroy之间进行，其他的规律是启动时慢与activity，销毁时快于activity
		
		+ 常用方法
		
			> replace：相当于先remove再add，先销毁原来的，再新建一个 
			
			> add：创建视图
			
			> remove : 销毁视图
			
			> hide：不销毁视图
			
		+ 返回栈：如果有fragmen加入返回栈，按下返回，先调用fragment返回栈，清空后再调用activity返回栈
			
		+ 如何解决fragment重叠问题

			> 在onCreat检查savedInstanceState是否为null，如果为null的时候再新创建fragment，或者在activity销毁的时候清除fragment的状态

		+ 与activity通信

			> 1.getActivity
			
			> 2.findFragmentByTag||findFragmentById 或者直接用activity里面的引用
			
			> 3.接口

	+ activity（app）启动流程

	
		

+ Service
	+ 两种启动方式生命周期 

		> 说烂了
	
	+ service保活
	+ service的意义
	+ 一个activty bindservice后，开启另一个activty ，又bindserivce，然后退出一个activty，service会销毁吗？

		> 不会，service对应的全部组件都解绑之后才会销毁
	


+ 多线程相关
	+ handler
		+ 实现原理
		+ 如何指定Handler在哪个线程执行方法
		+ IntentService,HandlerThread相关
	+ asynctask原理
		+ asyctask和thread区别？asytask默认开几个线程?

+ 多进程相关
	+ 进程间通信有哪些方法(IPC机制)
	+ 多进程会带来哪些问题

		> 1、单例和静态变量失效
		
		> 2、线程同步机制失效
		
		> 3、application实例被多次创建
		
		> 4、sp可靠性下降
	
	+ Binder如何实现
	+ AIDL相关
	+ 那多个app能在同一个进程里吗？
	+ 双进程怎么做?一个进程怎么知道另一个进程有没有被杀死?

+ View相关
	+ 自定义view
		+ 有哪些需要注意的
		
			> padding、wrap_content自己实现、解决滑动冲突、不要用hanlder
		 
		+ 如何绘制大于父view的子view
		+ 一个正方形的View，内部画一个圆，直径可以指定，让说自定义的流程。包括自定义属性在哪里定义的，在哪里获取的，怎么保证View的正方形，怎么保证圆不会超出View，draw的具体流程。自定义onLayout,实现一些符合特殊布局规则的容器。
	+ view绘制流程
		+ requestLayout和invalidate区别，invalidate会导致重新measure layout吗？
	+ view分发机制
		+ 多点触控如何传递
		+ 解决滑动冲突?
		+ listview内点击buttom并移动的事件流完整拦截过程
	
	
	+ **动画相关**
		+ 动画种类

			> 帧动画、补间动画、属性动画
		
		+ view动画和属性动画的区别?他们实现的实现原理?实现原理的区别?
		+ 属性动画变化的过程。插值器和估值器?
	
	+ 其他
		+ android.view由谁加载
		+ SurfaceView知道吗？一个Activity有几个SurfaceView？



+ 数据持久化

	+ Parcelable为什么效率比Serializable好？

		> Serializable在序列化的时候会产生大量的临时变量，从而引起频繁的GC
		
	+ SQLite相关

+ 优化
	+ LRUCache
	+ CoordinatorLayout与通常的FrameLayout和RelativeLayout相比有什么特点
	+ Android内存泄漏是什么？怎么检测？怎么避免？ [Android内存泄漏的八种可能](https://www.jianshu.com/p/ac00e370f83d?hmsr=toutiao.io&utm_medium=toutiao.io&utm_source=toutiao.io)
	+ ANR 相关

		> adb pull data/anr/traces.txt 获取anr崩溃信息

		+ 主线程阻塞
		+ 内存不足
		+ cpu负载过大
	
	+ listview与recyclerview的区别？
	+ 长生命周期的对象有哪些?
	+ 加载大图多图不出现oom，三级缓存。

+ jni
	+ jni原理熟悉吗？使用流程?jni用as还是es?jni只能调用c吧?



+ 架构
	+ MVP

## Java

+ 多线程相关

	+ 线程生命周期
	+ 线程种类
	+ 如何开启新线程，几种方式有什么区别
	+ volatile相关
		+ volatile与内置锁的区别
		+ 如果应该使用volatile的地方没有使用会发生什么
	
	+ synchronized相关
		+ 类锁对象锁概念

		[锁实现原理](https://blog.csdn.net/sunxianghuang/article/details/51932179)

	+ 判断线程是否销毁
	+ 线程池的种类
	+ Lock和RetrantLock

+ jvm相关
	+ dvm和jvm区别，65535问题怎么解决？为什么会有65535问题?
	+ 垃圾回收相关
		+ 如果两个变量互相引用是否还会回收它们？为什么？
		+ gc算法有哪些?复制算法，存活的对象超过survoir空间咋办？
	+ 类加载相关
		+ 类的加载机制，类加载流程。
	+ 内存模型
		+ Java虚拟机内存分配

	
	
+ 封装类

	

			
	+ **string，stringbuilder，stringbuffer的区别，性能比较。**

		+ 可变性: String加了final关键字，不可变，StringBuilder和StringBuffer都可以用`append`方法进行改变

		+ 安全性: 

			+ String : 因为不可变，线程安全
			+ StringBuffer : 内部方法加了synchronized关键字修饰，也是线程安全
			+ StringBuilder : 线程不安全

		+ 性能：`StringBuffer`因为加锁降低了性能。 	
			

	+ hashCode()方法实现
	+ hashCode()方法 equals()方法相互联系

	+ linkedhashmap和hashmap，treemap的区别?
	
	
	+ arraylist和likedlist区别
	+ HashMap不是线程安全的，那么用什么替代？
	+ HashMap的结构是怎样的，怎么存value，遇到相同的hash值的key，其value又怎么存。

+ **基础**

	+ **[接口和抽象类区别，接口能定义变量吗](http://www.importnew.com/12399.html)**
	
		+ 接口中定义的变量默认为常量(不能被project、private关键字修饰)，可以在实现接口的类中直接使用
		+ jdk1.8之后，接口中可以写默认方法的实现，前面加default关键字，在实现类中可以重写默认方法(解决接口中添加方法后修改成本太高问题)

		
		+ 接口和抽象类的区别
			+ 1.8 之前，接口中不能写方法实现，抽象类中可以
			+ 一个类可以实现多个接口，但只能继承一个父抽象类
			+ 抽象类用extends关键字继承，接口用implements关键字实现
			+ 抽象类可以写构造函数，接口不可以
			+ 接口中的方法实现后只能是public的，抽象类继承后重写的方法和父类类型保持一致(抽象方法不能为private类型)


	+ **访问控制权限的理解public，protected，default，private。**

		+ public: 任何地方都可以访问
		+ protected: 当前类和继承他的子类可以访问
		+ private: 仅当前类可以访问
		+ default: 在当前包下都可见，跨包不可见

	+ **内部类和外部类有什么区别**: 外部类只能public和default两种关键字修饰，内部类四种都可以
	
	+ **静态内部类和非静态的有什么区别** : 非静态内部类可以访问外部类中的全部变量和方法，静态内部类只能访问外部类中的静态变量和方法，其根本原因是静态内部类的创建不需要依赖外部类的实例。
	
	+ **内部类为什么可以访问外部类的变量** : 编译器会默认为内部类的构造器添加一个参数，将外部类的引用传入内部类，所以可以访问外部类的内容，这也说明了为什么内部类的创建一定要依赖于外部类实例
	

	+ **[java匿名内部类使用外部变量时，外部变量必须是final](https://blog.csdn.net/u011617742/article/details/51613519)** : 匿名内部类在编译时在编译时会将内部类所用到的局部变量复制一份作为构造方法的参数传入， 这样做是为了解决变量生命周期不一致的问题，局部变量随方法返回后被回收，但此时内部类实例可能依然存在，仍可能会访问之前的变量，用复制方法解决这个问题必须保证两者的一致性，所以要定义成final类型 。  
	
	+ **[强软弱虚四种引用](java强软弱虚四种引用)**

		+ 强引用: 直到对象没有引用时候才回收
		+ 软引用: 内存不足时被回收
		+ 弱引用: GC发生时被回收
		+ 虚引用: 任何情况下都可能被回收
	
	+ [Throwable、Exception、Error三者的关系，Exception和Error有什么区别，Error可以被捕获嘛](https://blog.csdn.net/hl_java/article/details/76837141)

		+ Throwable是Error和Exception的父类
		+ Exception可以被程序处理，error不能
		+ 两者都可以被捕获，但是不推荐捕获error

	
	+ 泛型 : [Java泛型中T和问号（通配符）的区别](https://blog.csdn.net/ikownyou/article/details/65630385)
	
	
	+ 注解有哪几种?
	+ Java的反射和类型机制?



+ 设计模式

	+ 几种单例模式
	+ 工厂模式。


## 网络


+ http是无状态的怎么理解?如果要让它有状态呢？(应该是答长连接，当时答错了)
+ http头有哪些？

	> Connection : 请求结束后是否继续连接
	
	> Content-Encoding : 压缩格式 
	
	> Content-Type : 请求数据格式

+ http的版本有几种
+ http请求包结构，有几种ContentType
	> 请求行、请求头、空行、请求体



+ http&https区别
+ https原理
+ https是怎么加密的?怎么攻击https?


+ http返回码的分类，400和500的区别  

	> 400： 请求语法错误 ，500：服务器错误

+ tcp，udp位于osi七层参考模型的哪一层?

	> 传输层

+ tcp与udp区别

	> udp(用户数据报协议) : 无连接，不可靠，不阻塞，面向报文
	> tcp(传输控制协议) :  点对点连接，可靠，面向字节流。
	

+ tcp/ip应用层有哪些协议?
	![](http://p0y1qzu73.bkt.clouddn.com/18-8-2/87514844.jpg)




## 框架

+ Okhttp
	+ http请求中keep-alive保存长连接的实现原理
+ retrofit



## 算法


+ 不用递归手写二叉树中序遍历
+ 字典序第k大的数
+ 按XML格式打印view和它的子view
+ 股票买入买进最佳时机，已知30天股票价格，只能买一次卖一次，最多赚多少，不限制买卖次数呢
+ 二分查找，写的递归，要求转成循环方式
+ 100W 取top100，准备写快排的划分思路，被怼了，不让写，然后我说那用堆吧，然后面试官让用堆，然后堆排序，忘了，写不出来GG
+ 一组数中有一个数出现了一次，其他出现两次，找出这个数，用异或，写完面试官改成两个数，
+ 有N个台阶，123456-N，一个🐸在0处，每次可以跳3或4或5步，给定一个整数N，判断跳到N最少要多少步。
+ 判断一个树是不是AVL树
+ 二叉树深度
+ 求最深的那条路径
+ min栈
+ 什么是红黑树
+ 数组中超过一半的数（剑指offer），你能想到多少种办法
+ 单链表奇数位置递增，偶数位置递减，输出有序链表
+ n个节点的完全二叉树，有几层
+ 怎么判断单链表是否有环?
+ 求101到200所有的素数。
+ 一个二叉树中两个节点的最近公共父节点





