# 面经知识点整理


## Android


+ Activity

	+ activity的生命周期
		+ 生命周期

			> create->start->resume->pause->stop->destroy ,restart
		
	
		+ restart方法的调用时机: 
		
			> 由不可见重新变为可见时，stop->restart->start。
		 
		+ 按home键的调用时机,恢复的调用时机，销毁的调用时机

			> pause->stop,
			
			> stop->restart->start->resume,
			
			> pause->stop->destoy
		
		+ on save/restore instate的时机，谁调用，怎么调用
	
			> 异常关闭活动时，如当配置文件被改变或者进程优先级太低被杀死，activity会进行on save instate回调，在这里可以保存一些数据，在活动重新创建可以在create或者on restore instate中进行数据恢复
		
		+ 横屏竖屏切换

			> 配置文件被改变，活动重新创建，控件加id可以进行自动保存数据
		
		+ 透明主题/Dialog主题对生命周期的影响

			> 原来的活动只进入pause,返回后执行resume，因为此时原活动并未完全不可见
		
		+ ActivityA启动ActivityB，两者的生命周期分别是怎样的，是顺序执行的吗？

			> A先pause，B再create->start->resume,A再stop
		
	+ Android四种启动模式
	
	
	
	+ fragment相关，
		+ 生命周期

			> attch(和activity绑定)-creat-creatview(创建视图)-activitycreated(确保相关联的activity创建完成)-start-resume-pause-stop-destroyview(销毁视图)-destroy-dettch(与activity解绑)
			
			> 与activity联动时，两者的生命周期为: 前四步都在activity的create后和start前进行，后三步在activity的stop和destroy之间进行，其他的规律是启动时慢与activity，销毁时快于activity
		
		+ 常用方法
		
			> replace：相当于先remove再add，先销毁原来的，再新建一个 
			
			> add：创建视图
			
			> remove : 销毁视图
			
			> hide：不销毁视图
			
		+ 返回栈：如果有fragmen加入返回栈，按下返回，先调用fragment返回栈，清空后再调用activity返回栈
			
		+ 如何解决fragment重叠问题

			> 在onCreat检查savedInstanceState是否为null，如果为null的时候再新创建fragment，或者在activity销毁的时候清除fragment的状态

		+ 与activity通信

			> 1.getActivity
			
			> 2.findFragmentByTag||findFragmentById 或者直接用activity里面的引用
			
			> 3.接口

	+ activity（app）启动流程

	
		

+ Service
	+ 两种启动方式生命周期 

		> 说烂了
	
	+ service保活
	+ service的意义
	+ 一个activty bindservice后，开启另一个activty ，又bindserivce，然后退出一个activty，service会销毁吗？

		> 不会，service对应的全部组件都解绑之后才会销毁
	


+ 多线程相关
	+ handler
		+ 实现原理
		+ 如何指定Handler在哪个线程执行方法
		+ IntentService,HandlerThread相关
	+ asynctask原理
		+ asyctask和thread区别？asytask默认开几个线程?

+ 多进程相关
	+ 进程间通信有哪些方法(IPC机制)
	+ 多进程会带来哪些问题

		> 1、单例和静态变量失效
		
		> 2、线程同步机制失效
		
		> 3、application实例被多次创建
		
		> 4、sp可靠性下降
	
	+ Binder如何实现
	+ AIDL相关
	+ 那多个app能在同一个进程里吗？
	+ 双进程怎么做?一个进程怎么知道另一个进程有没有被杀死?

+ View相关
	+ 自定义view
		+ 有哪些需要注意的
		
			> padding、wrap_content自己实现、解决滑动冲突、不要用hanlder
		 
		+ 如何绘制大于父view的子view
		+ 一个正方形的View，内部画一个圆，直径可以指定，让说自定义的流程。包括自定义属性在哪里定义的，在哪里获取的，怎么保证View的正方形，怎么保证圆不会超出View，draw的具体流程。自定义onLayout,实现一些符合特殊布局规则的容器。
	+ view绘制流程
		+ requestLayout和invalidate区别，invalidate会导致重新measure layout吗？
	+ view分发机制
		+ 多点触控如何传递
		+ 解决滑动冲突?
		+ listview内点击buttom并移动的事件流完整拦截过程
	
	
	+ **动画相关**
		+ 动画种类

			> 帧动画、补间动画、属性动画
		
		+ view动画和属性动画的区别?他们实现的实现原理?实现原理的区别?
		+ 属性动画变化的过程。插值器和估值器?
	
	+ 其他
		+ android.view由谁加载
		+ SurfaceView知道吗？一个Activity有几个SurfaceView？



+ 数据持久化

	+ Parcelable为什么效率比Serializable好？

		> Serializable在序列化的时候会产生大量的临时变量，从而引起频繁的GC
		
	+ SQLite相关

+ 优化
	+ LRUCache
	+ CoordinatorLayout与通常的FrameLayout和RelativeLayout相比有什么特点
	+ Android内存泄漏是什么？怎么检测？怎么避免？
	+ ANR 相关
	+ listview与recyclerview的区别？
	+ 长生命周期的对象有哪些?
	+ 加载大图多图不出现oom，三级缓存。

+ jni
	+ jni原理熟悉吗？使用流程?jni用as还是es?jni只能调用c吧?



+ 架构
	+ MVP

## Java

+ 多线程相关

	+ 线程生命周期
	+ 线程种类
	+ 如何开启新线程，几种方式有什么区别
	+ volatile相关
		+ volatile与内置锁的区别
		+ 如果应该使用volatile的地方没有使用会发生什么
	
	+ synchronized相关
		+ 类锁对象锁概念

		[锁实现原理](https://blog.csdn.net/sunxianghuang/article/details/51932179)

	+ 判断线程是否销毁
	+ 线程池的种类
	+ Lock和RetrantLock

+ jvm相关
	+ dvm和jvm区别，65535问题怎么解决？为什么会有65535问题?
	+ 垃圾回收相关
		+ 如果两个变量互相引用是否还会回收它们？为什么？
		+ gc算法有哪些?复制算法，存活的对象超过survoir空间咋办？
	+ 类加载相关
		+ 类的加载机制，类加载流程。
	+ 内存模型
		+ Java虚拟机内存分配

	
	
+ 封装类
	+ hashCode()方法实现
	+ hashCode()方法 equals()方法相互联系
	+ HashMap不是线程安全的，那么用什么替代？
	+ HashMap的结构是怎样的，怎么存value，遇到相同的hash值的key，其value又怎么存。

+ 基础
	+ 内部类和外部类有什么区别
	+ 静态内部类和非静态的有什么区别
	+ 内部类为什么可以访问外部类的变量
	+ Throwable、Exception、Error三者的关系，Exception和Error有什么区别，Error可以被捕获嘛
	+ 接口和抽象类区别，接口能定义变量吗
	+ 泛型
	+ 强软弱虚四种引用
	+ linkedhashmap和hashmap，treemap的区别?
	+ string，stringbuilder，stringbuffer的区别，性能比较。
	+ 访问控制权限的理解public，protected，default，private。
	+ arraylist和likedlist区别
	+ 注解有哪几种?
	+ Java的反射和类型机制?



+ 设计模式

	+ 几种单例模式
	+ 工厂模式。


## 网络

+ http&https区别
+ https原理
+ 网络劫持的类型原理
+ http的版本有几种
+ http请求包结构，有几种ContentType
+ http返回码的分类，400和500的区别
+ tcp，udp位于osi七层参考模型的哪一层?
+ tcp与udp区别
+ tcp/ip应用层有哪些协议?
+ https是怎么加密的?怎么攻击https?
+ http是无状态的怎么理解?如果要让它有状态呢？(应该是答长连接，当时答错了)
+ http头有哪些？

## 框架

+ Okhttp
	+ http请求中keep-alive保存长连接的实现原理
+ retrofit



## 算法


+ 不用递归手写二叉树中序遍历
+ 字典序第k大的数
+ 按XML格式打印view和它的子view
+ 股票买入买进最佳时机，已知30天股票价格，只能买一次卖一次，最多赚多少，不限制买卖次数呢
+ 二分查找，写的递归，要求转成循环方式
+ 100W 取top100，准备写快排的划分思路，被怼了，不让写，然后我说那用堆吧，然后面试官让用堆，然后堆排序，忘了，写不出来GG
+ 一组数中有一个数出现了一次，其他出现两次，找出这个数，用异或，写完面试官改成两个数，
+ 有N个台阶，123456-N，一个🐸在0处，每次可以跳3或4或5步，给定一个整数N，判断跳到N最少要多少步。
+ 判断一个树是不是AVL树
+ 二叉树深度
+ 求最深的那条路径
+ min栈
+ 什么是红黑树
+ 数组中超过一半的数（剑指offer），你能想到多少种办法
+ 单链表奇数位置递增，偶数位置递减，输出有序链表
+ n个节点的完全二叉树，有几层
+ 怎么判断单链表是否有环?
+ 求101到200所有的素数。
+ 一个二叉树中两个节点的最近公共父节点





