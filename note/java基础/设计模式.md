# 设计模式

想要逼格高一点，设计模式肯定是逃脱不了的

## 单例模式（Singleton)

+ 概念：对于有些类，我们只想在整个程序的运行过程中拥有唯一一个他的实例化对象，这时候我们就应该考虑使用用单例模式。

+ 特点：
	+ 单例类在整个程序过程只能拥有一个实例
	+ 单例类必须自己创建唯一的实例
	+ 单例类必须向外提供访问这个唯一实例的方法

举一个例子：

	public class SingleObject {
	
	   //创建 SingleObject 的一个对象
	   private static SingleObject instance = new SingleObject();
	
	   //让构造函数为 private，这样该类就不会被实例化
	   private SingleObject(){}
	
	   //获取唯一可用的对象
	   public static SingleObject getInstance(){
	      return instance;
	   }
	
	   public void showMessage(){
	      System.out.println("Hello World!");
	   }
	}
	
	
	
在这个例子当中，我们将类的构造方法定义为`private`,这样在其他类中就无法对其进行实例化，而只在这个类的内部进行一次实例化，然后定义公有的静态方法`getInstance`来将这个实例供外界使用。


**单例模式的几种实现方式**

+ 饿汉模式
	
		public class Singleton{  
		    private static Singleton instance = new Singleton();  
		    private Singleton(){}  
		    public static Singleton newInstance(){  
		        return instance;  
		    }  
		}  
	
	
	在这种模式当中，构造方法被定义为私有，当类被加载时即创建实例对象，且向外暴露了共有方法来访问这个实例，这种算是最简单的实现方式，这个实例在整个程序周期都存在。
	+ 优点：只在类加载的时候创建一次实例，不会存在多个线程创建多个实例的情况，是线程安全的。
	+ 缺点：无论程序是否用到了这个实例，在类加载的过程中都会被创建，这样产生了内存浪费的情况。
	+ 适用场景：适用单例的内存占用较小，或在程序初始化时就被使用的情况，但若是单例内存占用很大，或者某个特定场景才会被使用，饿汉模式就不合适了，需要采用懒汉模式来延迟加载。


+ 线程不安全的懒汉模式

		public class Singleton {  
		    private static Singleton instance = null;  
		    private Singleton (){}  
		    public static synchronized Singleton getInstance() {  
			    if (instance == null) {  
			        instance = new Singleton();  
			    }  
			    return instance;  
		    }  
		} 
		
	可以看到，这种模式与饿汉模式的区别是：在类加载的时候并不建立实例，而是在需要用到的时候再进行实例化，如果单例已经被创建，那么下次访问的时候会直接返回而不是重新创建。
	+ 优点：在需要的时候才开始创建实例，节省了内存的占用。
	+ 缺点：在多线程工作的情况下会创建多个实例，线程不安全。
	+ 适用场景：单例内存占用较大，对单例的使用频率较少，并且不需要考虑多线程工作。

+ 线程安全的懒汉模式：

		public class Singleton{  
		    private static Singleton instance = null;  
		    private Singleton(){}  
		    public static synchronized Singleton getInstance(){  
		        if(null == instance){  
		            instance = new Singleton();  
		        }  
		        return instance;  
		    }  
		}  	

与上一种懒汉模式相比，在获取实例的共有方法之前添加了`synchronized`关键字

+ 优点：同样可以节省内存的






